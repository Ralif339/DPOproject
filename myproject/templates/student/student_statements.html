{% extends "student_navigation.html" %}

{% block title %}–ú–æ–∏ –∑–∞—è–≤–ª–µ–Ω–∏—è{% endblock title %}

{% block style %}
<style>
    body {
        background-color: #FFFFFF;
        color: #000000;
    }
    .card {
        border: 1px solid #ddd;
        border-radius: 10px;
        box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }
    .btn-add {
        background-color: #28a745;
        color: white;
    }
    .btn-add:hover {
        background-color: #218838;
    }
    .btn-cancel {
        background-color: #dc3545;
        color: white;
    }
    .btn-cancel:hover {
        background-color: #c82333;
    }
</style>
{% endblock style %}

{% block content %}

<div class="container mt-4">
    <h2 class="text-center mb-4">–ú–æ–∏ –∑–∞—è–≤–ª–µ–Ω–∏—è</h2>

    <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∑–∞—è–≤–ª–µ–Ω–∏–π -->
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ 1 -->
        {% for statement in statements %}
            <div class="col">
                <div class="card p-3 text-center">
                    <h5 class="card-title">üìù –ó–∞—è–≤–ª–µ–Ω–∏–µ –Ω–∞ {{statement.statement_type}}</h5>
                    <p><strong>üìÖ –î–∞—Ç–∞ –ø–æ–¥–∞—á–∏:</strong> {{statement.submitting_date}}</p>
                    <p><strong>üîÑ –°—Ç–∞—Ç—É—Å:</strong> {{statement.status}}</p>
                    <p><strong>üéì –ö—É—Ä—Å:</strong> {{statement.course.course_name}}</p>
                    <p><strong>–ó–∞—á–∏—Å–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É:</strong> {{statement.group.name}}</p>
                    <div class="mt-auto">
                        {% if statement.status == "–û–¥–æ–±—Ä–µ–Ω–æ" %}
                            <button class="btn btn-cancel w-100" disabled>–û—Ç–æ–∑–≤–∞—Ç—å</button>
                        {% elif statement.status == "–û—Ç–∫–ª–æ–Ω–µ–Ω–æ" %}
                            <button class="btn btn-cancel w-100" disabled>–û—Ç–æ–∑–≤–∞—Ç—å</button>
                        {% else %}
                        <form action="{% url "student_statements" %}" method="POST">
                            {% csrf_token %}
                            <input type="hidden" name="statement_id" value="{{statement.id}}">
                            <button class="btn btn-cancel w-100">–û—Ç–æ–∑–≤–∞—Ç—å</button>
                        </form>
                        {% endif %}
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>

{% endblock content %}